!function(t){function e(){this.durTime=0,this.frameId=null,this.startTime=0,this.lastPercent=0,this.init()}function i(t){this.obj=t,this.startPointX=0,this.startLeft=0,this.percent=0}e.prototype={init:function(){this.getDom()},getDom:function(){this.curTime=document.querySelector(".curTime"),this.circle=document.querySelector(".circle"),this.frontBg=document.querySelector(".frontBg"),this.totalTime=document.querySelector(".totalTime")},renderAllTime:function(t){this.durTime=t,t=this.formatTime(t),this.totalTime.innerHTML=t},formatTime:function(t){t=Math.round(t);let e=Math.floor(t/60),i=t%60;return e=e<10?"0"+e:e,i=i<10?"0"+i:i,e+":"+i},move:function(t){cancelAnimationFrame(this.frameId);let i=this;this.lastPercent=void 0===t?this.lastPercent:t,this.startTime=(new Date).getTime(),function t(){var e=(new Date).getTime(),e=i.lastPercent+(e-i.startTime)/(1e3*i.durTime);e<=1?i.update(e):cancelAnimationFrame(i.frameId),i.frameId=requestAnimationFrame(t)}()},update:function(t){var e=this.formatTime(t*this.durTime);this.curTime.innerHTML=e,this.frontBg.style.width=100*t+"%";t*=this.circle.parentNode.offsetWidth;this.circle.style.transform="translateX("+t+"px)"},stop:function(){cancelAnimationFrame(this.frameId);var t=(new Date).getTime();this.lastPercent+=(t-this.startTime)/(1e3*this.durTime)}},i.prototype={init(){this.obj.style.transform="translateX(0)",this.obj.addEventListener("touchstart",t=>{this.startPointX=t.changedTouches[0].pageX,this.startLeft=parseFloat(this.obj.style.transform.split("(")[1]),this.start&&this.start()}),this.obj.addEventListener("touchmove",t=>{this.disPointX=t.changedTouches[0].pageX-this.startPointX;let e=this.startLeft+this.disPointX;e<0?e=0:e>this.obj.offsetParent.offsetWidth&&(e=this.obj.offsetParent.offsetWidth),this.obj.style.transform=`translateX${e}px`,this.percent=e/this.obj.offsetParent.offsetWidth,this.move&&this.move(this.percent),t.preventDefault()}),this.obj.addEventListener("touchend",()=>{this.end&&this.end(this.percent)})}},t.progress={pro:function(){return new e},drag:function(t){return new i(t)}}}(window.player||(window.player={}));